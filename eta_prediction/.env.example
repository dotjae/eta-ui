# ETA Prediction Pipeline - Environment Configuration
# Copy this file to .env and customize as needed

# =============================================================================
# GTFS-RT Data Ingestion (Django + Celery)
# =============================================================================

# Django Configuration
DJANGO_SECRET_KEY=change-this-to-a-random-secret-key
DJANGO_DEBUG=True
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,django

# PostgreSQL Database
DATABASE_URL=postgresql://gtfs:gtfs@postgres:5432/gtfs

# GTFS-RT Feed URLs (default: MBTA Boston)
GTFSRT_VEHICLE_POSITIONS_URL=https://cdn.mbta.com/realtime/VehiclePositions.pb
GTFSRT_TRIP_UPDATES_URL=https://cdn.mbta.com/realtime/TripUpdates.pb
FEED_NAME=mbta

# Ingestion Polling Interval (seconds)
POLL_SECONDS=30

# =============================================================================
# ETA Prediction Service
# =============================================================================

# Model Registry
MODEL_REGISTRY_DIR=/app/models/trained

# Timezone (for temporal features)
ETA_TIMEZONE=America/Costa_Rica

# Debug Mode (1 = verbose logging)
ETA_DEBUG=0

# JSON Logging (1 = structured JSON logs)
ETA_LOG_JSON=0

# =============================================================================
# Redis Configuration
# =============================================================================

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379/0

# =============================================================================
# MQTT Configuration (for Bytewax streaming)
# =============================================================================

MQTT_HOST=mqtt
MQTT_PORT=1883
MQTT_USER=admin
MQTT_PASS=admin
MQTT_TOPIC=transit/vehicles/bus/#

# =============================================================================
# Prefect Configuration (optional)
# =============================================================================

# Prefect API URL (if using Prefect Cloud or self-hosted server)
# PREFECT_API_URL=https://api.prefect.cloud/api/accounts/.../workspaces/...
# PREFECT_API_KEY=your-api-key

# =============================================================================
# Production Overrides
# =============================================================================

# Uncomment and customize for production deployments:

# DJANGO_DEBUG=False
# DJANGO_SECRET_KEY=your-production-secret-key
# DATABASE_URL=postgresql://user:password@production-db:5432/gtfs

# Costa Rica GTFS-RT feeds (example):
# GTFSRT_VEHICLE_POSITIONS_URL=https://your-feed-url/VehiclePositions.pb
# GTFSRT_TRIP_UPDATES_URL=https://your-feed-url/TripUpdates.pb
# FEED_NAME=cr
